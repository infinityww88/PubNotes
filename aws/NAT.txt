你可以使用一个NAT gateway来启用private subnet中的instance连接到internet或者其他aws services，但是阻止internet发起到这些instances的连接
NAT gateway不支持IPv6 traffic，相反应该使用outbound-only（egree-only）internet gateway

NAT Gateway基础
要创建一个NAT gateway，你必须指定一个public subnet将NAT gateway放在其中，因为NAT需要代理private subnet访问internet。你还必须指定一个Elastic IP address关联到这个NAT gateway（既然要访问internet就必须有public ip）。Elastic IP地址在关联到NAT之后就不能再改变了。在创建NAT之后，你必须更新被代理的一个或多个private subnet的路由表，使得它们的internet-bound流量指向NAT gateway。这启用了private subnet中的instance对internet对访问

每个NAT gateway被创建在指定的Availability Zone并且在那个Zone中冗余实现。你在一个Availability Zone中可以创建的NAT gateway具有指定配额。
如果你的资源存在于多个AZ中，并且它们共享一个NAT gateway，则如果这个NAT gateway的AZ当机时，所有其他AZ的资源都失去了对internet的访问。要创建AZ无关的架构，为每一个AZ创建NAT gateway，并且配置你的路由来保证使用NAT的资源与NAT在同一个AZ中

如果你不再需要一个NAT gateway，可以删除它。删除一个NAT将解除对EIP的绑定，但是并不释放它

NAT Gateway规则和限制
一个NAT网关支持5Gbps带宽，并且自动扩展到45Gbps。如果你需要更多，你可以通过分割你的资源到多个subnet来分散workload，并为每个subnet创建一个NAT网关
你只可以关联一个EIP到NAT网关。你不能在NAT创建之后解除关联的EIP。要使NAT网关使用一个不同的EIP，你必须使用要使用的EIP创建一个新的NAT网关，更新你的路由表，然后删除之前的NAT网关
一个NAT网关支持TCP，UDP，和ICMP协议
你不能关联一个security group到NAT网关上。你可以对private subnet中的instance使用security groups来控制入站和出站instance的流量，NAT只代理流量
你可以使用一个network ACL来控制进入和离开NAT所在的subnet的流量。Network ACL应用于NAT网关的流量。NAT网关使用1024-65535端口
当NAT网关被创建，它获得一个网络接口network interface，它自动被赋予一个subnet地址范围中的private IP地址。你可以在Amazon EC2控制台上查看这个NAT gateway的网络接口
你不能通过一个VPC peering连接，一个Site-to-Site VPN连接，或者AWS Direct Connect，路由流量到一个NAT网关。一个NAT网关不能被连接另一端的资源使用
NAT网关对每个唯一的目的地能够支持最多55000并发连接。如果你对同一个目的地每秒创建大约900个连接（每分钟大约5500个连接），这个限制仍然有效。这个限制不是以每秒连接数衡量的，而是同时打开但是不关闭的到同一个目的地的连接数（内存映射表的限制）。如果目的IP地址，目的端口，或者协议（TCP/UDP/ICMP）改变了，你可以创建另外的55000个连接（网络连接五元组）。对于超过550000的连接，有一定递增的几率会发生端口申请失败的连接错误（一共有65535-1024个可用端口，NAT只明确提供其中的55000个，剩余的端口作为临时端口，因此有一定概率申请得到或申请不到）