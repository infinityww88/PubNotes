# Caching

使用Spline时获得最高可能性能的关键是预计算

曲线理论上是没有解析度（分辨率）的

计算spline曲线的过程是使用给定的步长，连续地查询数学公式获取近似点。这些连接的点构成了你在屏幕上看到的曲线。一个曲线使用采样点基于它的长度自动计算出来，但是你可以影响它。通常采样点（称之为近似点或者cache points）在曲线上等距离分布

任何以Fast为结尾的API方法意味着使用缓冲数据（预计算采样数据），而不是实时查询数学公式

## cache sample points的数量

一个曲线采样点的数量被两个参数定义

- Max Points Per Unit：定义每世界单位距离上采样点的数量
- Cache Density：1～100之间的值。数值越高，每单位距离采样点越多。当它等于100时，曲线在每个世界单位距离上将拥有Max Points Per Unit个采样点。它就是Max Points Per Unit的系数，二者乘积就是最终使用的Points Per Unit。通常50是性能和精确度之间的平衡点

## 内存 vs 精确度

通常来说，拥有更多的采样点将得到更精确的曲线近似，但是预计算才花更长的时间而且需要使用更多的内存。